[EMC]
MACHINE = Milo-Remora
DEBUG = 0
VERSION = 1.1

[DISPLAY]
DISPLAY = axis
EDITOR = geany
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
ARCDIVISION = 64
GRIDS = 10mm 20mm 50mm 100mm
MAX_FEED_OVERRIDE = 1.2
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.2
DEFAULT_LINEAR_VELOCITY = 20.0    ; mm/s
MIN_LINEAR_VELOCITY = 0.0
MAX_LINEAR_VELOCITY = 33.0        ; matches ~2000 mm/min
DEFAULT_ANGULAR_VELOCITY = 20.0
MIN_ANGULAR_VELOCITY = 0.0
MAX_ANGULAR_VELOCITY = 20.0
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 0
PROGRAM_PREFIX = ~/linuxcnc/nc_files
INCREMENTS = 50mm 10mm 5mm 1mm 0.5mm 0.1mm 0.05mm 0.01mm

[KINS]
JOINTS = 3
KINEMATICS = trivkins coordinates=XYZ

[FILTER]
PROGRAM_EXTENSION = .py Python Script
py = python

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[RS274NGC]
PARAMETER_FILE = linuxcnc.var

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
COMM_WAIT = 0.010
BASE_PERIOD = 0
; start with 1ms servo thread, relax to 5ms if latency sucks
SERVO_PERIOD = 1000000

[HAL]
HALFILE = milo-remora.hal
; Add POSTGUI_HALFILE here later if you want panels

[TRAJ]
COORDINATES = X Y Z
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
CYCLE_TIME = 0.010
DEFAULT_LINEAR_VELOCITY = 20.0
MAX_LINEAR_VELOCITY = 33.0
NO_FORCE_HOMING = 1     ; lets you jog before homing (good while tuning)

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

# ------------------ AXIS / JOINT DEFINITIONS ------------------
# Milo V1.5 workspace ~340x160x120mm :contentReference[oaicite:0]{index=0}
# TR8x8 leadscrews: 8mm lead, assume 200 steps/rev, 16 usteps â†’ 400 steps/mm :contentReference[oaicite:1]{index=1}

# === X ==========================
[AXIS_X]
MAX_VELOCITY = 33.0        ; 2000 mm/min
MAX_ACCELERATION = 300.0
MIN_LIMIT = 0.0
MAX_LIMIT = 340.0

[JOINT_0]
TYPE = LINEAR
HOME = 0.0
MIN_LIMIT = 0.0
MAX_LIMIT = 340.0
MAX_VELOCITY = 33.0
MAX_ACCELERATION = 300.0
STEPGEN_MAXACCEL = 800.0
SCALE = 400.0              ; steps/mm, adjust if your microstep != 16
FERROR = 0.1
MIN_FERROR = 0.01
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = -10.0     ; move toward X home switch (fix sign if wrong)
HOME_LATCH_VEL = -2.0
HOME_SEQUENCE = 1

# === Y ==========================
[AXIS_Y]
MAX_VELOCITY = 33.0        ; 2000 mm/min
MAX_ACCELERATION = 300.0
MIN_LIMIT = 0.0
MAX_LIMIT = 160.0

[JOINT_1]
TYPE = LINEAR
HOME = 0.0
MIN_LIMIT = 0.0
MAX_LIMIT = 160.0
MAX_VELOCITY = 33.0
MAX_ACCELERATION = 300.0
STEPGEN_MAXACCEL = 800.0
SCALE = 400.0
FERROR = 0.1
MIN_FERROR = 0.01
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = -10.0     ; move toward Y home switch
HOME_LATCH_VEL = -2.0
HOME_SEQUENCE = 2

# === Z ==========================
[AXIS_Z]
MAX_VELOCITY = 16.7        ; 1000 mm/min
MAX_ACCELERATION = 200.0
MIN_LIMIT = -120.0
MAX_LIMIT = 0.0

[JOINT_2]
TYPE = LINEAR
HOME = 0.0
MIN_LIMIT = -120.0
MAX_LIMIT = 0.0
MAX_VELOCITY = 16.7
MAX_ACCELERATION = 200.0
STEPGEN_MAXACCEL = 600.0
SCALE = 400.0
FERROR = 0.1
MIN_FERROR = 0.01
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 10.0      ; positive = up, if your Z0 is top
HOME_LATCH_VEL = 2.0
HOME_SEQUENCE = 0

